curl -XDELETE http://10.7.50.110:9200/agenda;

#curl -XPUT http://10.7.50.110:9200/agenda -d '{"index" : {
#    "number_of_shards" : 3,
#    "number_of_replicas" : 2}}'

curl -XPUT http://10.7.50.110:9200/agenda

curl -XPUT 'http://10.7.50.110:9200/agenda/event/_mapping' -d '{
	"event": {
		"properties" : {
			"author" :  {"type" : "string", "index" : "not_analyzed"},
			"event" : {
				"properties": {
					"where": {				
						"properties": {
							"geoPt": {
								"type": "geoPoint",
								"store" : true
							}
						}
					}
				}
			}
		}
	}
}';


curl -XPUT 'http://10.7.50.110:9200/agenda/membership/_mapping' -d '{
	"membership": {
		"properties" : {
			"user" : {"type" : "string", "index" : "not_analyzed"},
			"group" : {"type" : "string", "index" : "not_analyzed"}
		}
	}
}';

curl -XPUT 'http://10.7.50.110:9200/agenda/agenda-write-user/_mapping' -d '{
	"membership": {
		"properties" : {
			"applyOn" : {"type" : "string", "index" : "not_analyzed"},
			"grantTo" : {"type" : "string", "index" : "not_analyzed"}
		}
	}
}';
curl -XPUT 'http://10.7.50.110:9200/agenda/agenda-write-group/_mapping' -d '{
	"membership": {
		"properties" : {
			"applyOn" : {"type" : "string", "index" : "not_analyzed"},
			"grantTo" : {"type" : "string", "index" : "not_analyzed"}
		}
	}
}';
curl -XPUT 'http://10.7.50.110:9200/agenda/group-write-user/_mapping' -d '{
	"membership": {
		"properties" : {
			"applyOn" : {"type" : "string", "index" : "not_analyzed"},
			"grantTo" : {"type" : "string", "index" : "not_analyzed"}
		}
	}
}';
curl -XPUT 'http://10.7.50.110:9200/agenda/group-write-group/_mapping' -d '{
	"membership": {
		"properties" : {
			"applyOn" : {"type" : "string", "index" : "not_analyzed"},
			"grantTo" : {"type" : "string", "index" : "not_analyzed"}
		}
	}
}';
curl -XPUT 'http://10.7.50.110:9200/agenda/event-write-user/_mapping' -d '{
	"membership": {
		"properties" : {
			"applyOn" : {"type" : "string", "index" : "not_analyzed"},
			"grantTo" : {"type" : "string", "index" : "not_analyzed"}
		}
	}
}';
curl -XPUT 'http://10.7.50.110:9200/agenda/event-write-group/_mapping' -d '{
	"membership": {
		"properties" : {
			"applyOn" : {"type" : "string", "index" : "not_analyzed"},
			"grantTo" : {"type" : "string", "index" : "not_analyzed"}
		}
	}
}';
curl -XPUT 'http://10.7.50.110:9200/agenda/event-read-user/_mapping' -d '{
	"membership": {
		"properties" : {
			"applyOn" : {"type" : "string", "index" : "not_analyzed"},
			"grantTo" : {"type" : "string", "index" : "not_analyzed"}
		}
	}
}';
curl -XPUT 'http://10.7.50.110:9200/agenda/event-read-group/_mapping' -d '{
	"membership": {
		"properties" : {
			"applyOn" : {"type" : "string", "index" : "not_analyzed"},
			"grantTo" : {"type" : "string", "index" : "not_analyzed"}
		}
	}
}';


#curl -XPOST http://localhost:3000/user -H 'Content-Type: application/json' -d '{"login":"jhpinson", "firstName": "Jean-Hugues", "lastName":"Pinson", "password" : "toto", "email" : "jh.pinson@gmail.com"}'
#curl -XPOST http://localhost:3000/user -H 'Content-Type: application/json' -d '{"login":"dcharbonnier", "firstName": "David", "lastName":"Charbonnier", "password" : "toto", "email" : "d.charbonnier@gmail.com"}'

#curl -XPOST http://localhost:3000/group -H 'Content-Type: application/json' -d '{"title":"OXYS", "description" : "Le groupe de la société OXYS"}'

#curl -XPOST http://localhost:3000/membership -H 'Content-Type: application/json' -d '{"user" : "/user/jhpinson", "group" : "/group/oxys"}'
#curl -XPOST http://localhost:3000/membership -H 'Content-Type: application/json' -d '{"user" : "/user/dcharbonnier", "group" : "/group/oxys"}'

#curl -XPOST http://localhost:3000/agenda -H 'Content-Type: application/json' -d '{"title":"Agenda de la société OXYS", "description" : "L agenda de la société OXYS"}'

#curl -XPOST http://localhost:3000/perms/agenda/wg -H 'Content-Type: application/json' -d '{"applyOn" : "/agenda/agenda-de-la-societe-oxys", "grantTo" : "/group/oxys"}'

#curl -XPOST http://localhost:3000/event -H 'Content-Type: application/json' -d '{"event": {"title" : "titre de l event"}, "author" : "/user/jhpinson"}'
